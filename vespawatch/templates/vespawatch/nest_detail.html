{% extends 'vespawatch/base.html' %}
{% load i18n %}

{% block content %}
<main class="container" id="vw-main-app">
    {% if user.is_authenticated %}
        <h1>{% trans 'nest' %} #{{ nest.pk }}</h1>
        
        <dl>
            <dt>{% trans 'Species' %}</dt>
            <dd>
            {% if nest.inaturalist_species %}
                {{ nest.inaturalist_species|default_if_none:'' }}
            {% else %}
                {{ nest.taxon.name|default_if_none:'' }}
            {% endif %}
            </dd>

            <dt>{% trans 'ID' %}</dt>
            <dd>{{ nest.pk }}</dd>

            <dt>{% trans 'Address' %}</dt>
            <dd>{{ nest.address|default_if_none:'' }}</dd>

            <dt>{% trans 'Latitude' %}</dt>
            <dd>{{ nest.latitude }}</dd>

            <dt>{% trans 'Longitude' %}</dt>
            <dd>{{ nest.longitude }}</dd>

            <dt>{% trans 'iNaturalist ID' %}</dt>
            <dd>{{ nest.inaturalist_id|default_if_none:'' }}</dd>

            <dt>{% trans 'observation date' %}</dt>
            <dd>{{ nest.observation_time|default_if_none:'' }}</dd>

            <dt>{% trans 'Observer' %}</dt>
            <dd>{{ nest.observer_name }}</dd>

            <dt>{% trans 'Email' %}</dt>
            <dd>{{ nest.observer_email|default_if_none:'' }}</dd>

            <dt>{% trans 'Phone' %}</dt>
            <dd>{{ nest.observer_phone|default_if_none:'' }}</dd>

            <dt>{% trans 'Nest size' %}</dt>
            <dd>{{ nest.get_size_display|default_if_none:'' }}</dd>

            <dt>{% trans 'Nest height' %}</dt>
            <dd>{{ nest.get_height_display|default_if_none:'' }}</dd>

            <dt>{% trans 'Comments' %}</dt>
            <dd>{{ nest.comments|default_if_none:'' }}</dd>

        {% if nest.managementaction_set %}
            <dt>{% trans 'Management action' %}</dt>
            <dd>{{ nest.get_management_action_display }}</dd>
        {% endif %}
        </dl>

        {% if nest.pictures %}
            <div>
            {% for image in nest.pictures.all %}
                <img class="img-thumbnail" style="max-width: 200px;" src="{{ image.image.url }}">
            {% endfor %}
            </div>
        {% endif %}
    {% endif %}
</main>
{% endblock %}
