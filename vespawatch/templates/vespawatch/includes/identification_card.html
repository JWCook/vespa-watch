{% load static %}
{% load i18n %}
{% load custom_tags %}

<div class="card overflow-hidden flex-row w-100{% if id_card.represents_nest %} bg-primary{% endif %}">
    {% if id_card.identification_picture %}
        <img class="fluid-img align-self-center theme-img-square" src="{{ id_card.identification_picture.url }}">
    {% else %}
        <img class="fluid-img align-self-center theme-img-square" src="{% static 'vespawatch/img/no_image_square.png' %}">
    {% endif %}
    <div class="card-body">
        <h5 class="card-title">
            {% if id_card.represents_nest %}{% trans 'Nest van' %}{% endif %}
            {{ id_card.represented_taxon.vernacular_name }}
        </h5>
        <h6 class="card-subtitle text-muted mb-2">
            <em>{{ id_card.represented_taxon.name }}</em>
        </h6>
        <div class="card-text">
            {{ id_card.description|markdown }}
        </div>
        {% if id_card.represents_nest %}
            <a class="btn btn-light stretched-link" href="{% url 'vespawatch:nest-add' %}?taxon={{ id_card.represented_taxon.inaturalist_push_taxon_id }}&subject=nest&redirect_to=index&card_id={{ id_card.pk }}">{% trans 'Report this nest' %}</a>
        {% else %}
            <a class="btn btn-primary stretched-link" href="{% url 'vespawatch:individual-add' %}?taxon={{ id_card.represented_taxon.inaturalist_push_taxon_id }}&subject=individual&redirect_to=index&card_id={{ id_card.pk }}">{% trans 'Report this individual' %}</a>
        {% endif %}
    </div>
</div>
